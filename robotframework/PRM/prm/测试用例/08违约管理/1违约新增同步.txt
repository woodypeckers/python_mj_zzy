*** Settings ***
Resource          ../../Resource/Action/08违约管理/1违约新增同步.txt

*** Test Cases ***
01报文符合要求
    [Tags]    smoke
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    检查消息同步结果    000000
    删除新增同步成功违约信息

02基地+合作编码在PRM不存在
    [Tags]    smoke
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    12345    /Msg/Body/CoopCode
    检查消息同步结果    012002

03报文每个节点取最大值
    [Tags]    smoke
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    违约新增同步报文每个节点取最大值
    检查消息同步结果    000000
    删除新增同步成功的违约最大值记录

04违约登记号超过100个字符
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    11234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890    /Msg/Body/FoulCode
    检查消息同步结果    001003

05违约现象说明超过2000个字符
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    1违约现象说明3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述34567890123456789012345678901234567890123456789012345678901234567890123456789012345678901违约现象说明3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890    /Msg/Body/FoulDesc
    检查消息同步结果    001003

06违约性质超过20个字符
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    1违约性质就是一类违约    /Msg/Body/FoulNatureDef/FoulNature
    检查消息同步结果    001003

07违约性质说明超过1000个字符
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    1违约性质说明3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890    /Msg/Body/FoulNatureDef/FoulNatureDesc
    检查消息同步结果    001003

08违约处罚类型超过100个字符
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    1处罚类型暂停合作哈哈处罚类型暂停合作哈哈处罚类型暂停合作哈哈处罚类型暂停合作哈哈处罚类型暂停合作哈哈    /Msg/Body/Punish/PunishType
    检查消息同步结果    001003

09扣减分超过6位数字
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    1990001    /Msg/Body/FoulScore
    检查消息同步结果    001003

10扣减分小数点后超过2位
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    19.999    /Msg/Body/FoulScore
    检查消息同步结果    001003

11处罚类型为终止合作
    [Tags]
    插入动漫基地-手机动漫产品-CP-商用合作信息
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    051    /Msg/Body/BaseId
    修改xml节点的值    ${SP_CODE}    /Msg/Body/CoopCode
    修改xml节点的值    1    /Msg/Body/Punish/IsEndCoop
    修改xml节点的值    终止通知：情况严重，终止合作    /Msg/Body/Punish/endNotiy
    检查消息同步结果    000000
    查看数据库该合作是否终止
    删除新增同步成功违约信息

12终止通知为2000个字符
    [Tags]
    插入动漫基地-手机动漫产品-CP-商用合作信息
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    051    /Msg/Body/BaseId
    修改xml节点的值    ${SP_CODE}    /Msg/Body/CoopCode
    修改xml节点的值    1    /Msg/Body/Punish/IsEndCoop
    修改xml节点的值    终止通知说明3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890    /Msg/Body/Punish/endNotiy
    检查消息同步结果    000000
    查看数据库该合作是否终止
    删除新增同步成功违约信息

13终止通知超过2000个字符
    插入动漫基地-手机动漫产品-CP-商用合作信息
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    051    /Msg/Body/BaseId
    修改xml节点的值    ${SP_CODE}    /Msg/Body/CoopCode
    修改xml节点的值    1    /Msg/Body/Punish/IsEndCoop
    修改xml节点的值    1终止通知说明3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述34567890123456789012345678901234567890123456789012345678901234567890123456789012345678901终止通知说明3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890违约现象描述3456789012345678901234567890123456789012345678901234567890123456789012345678901234567890    /Msg/Body/Punish/endNotiy
    检查消息同步结果    001003

14BaseId为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/BaseId
    检查消息同步结果    001003

15CoopCode为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/CoopCode
    检查消息同步结果    001003

16OperCode为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/OperCode
    检查消息同步结果    001003

17ReleaseLocal为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/ReleaseLocal
    检查消息同步结果    001003

18FoulCode为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/FoulCode
    检查消息同步结果    001003

19FoulDate为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/FoulDate
    检查消息同步结果    001003

20FoulDesc为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/FoulDate
    检查消息同步结果    001003

21FoulNature为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/FoulNatureDef/FoulNature
    检查消息同步结果    001003

22FoulNatureDesc为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/FoulNatureDef/FoulNatureDesc
    检查消息同步结果    001003

23PunishType为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/Punish/PunishType
    检查消息同步结果    001003

24IsEndCoop为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/Punish/IsEndCoop
    检查消息同步结果    001003

25处罚类型为终止合作，endNotiy为空
    [Tags]
    插入动漫基地-手机动漫产品-CP-商用合作信息
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    051    /Msg/Body/BaseId
    修改xml节点的值    ${SP_CODE}    /Msg/Body/CoopCode
    修改xml节点的值    1    /Msg/Body/Punish/IsEndCoop
    修改xml节点的值    \    /Msg/Body/Punish/endNotiy
    检查消息同步结果    000000
    查看数据库该合作是否终止
    删除新增同步成功违约信息

26CheckMonth为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/CheckMonth
    检查消息同步结果    000000
    删除新增同步成功违约信息

27FoulScore为空
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/CheckMonth
    检查消息同步结果    000000
    删除新增同步成功违约信息

28必填字段全部填写，选填字段不填写
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    \    /Msg/Body/Punish/PunishDate
    删除xml节点    /Msg/Body/FoulAppealAttach
    删除xml节点    /Msg/Body/FoulAttach
    Comment    设置附件为空    /Msg/Body/FoulAppealAttach
    Comment    设置附件为空    /Msg/Body/FoulAttach
    检查消息同步结果    000000
    删除新增同步成功违约信息

29FoulScore不为float
    读取xml文件    prm\\xml\\SyncFoulToPrm.xml
    修改消息同步报文Header    110015    999    #需填写消息号和发送同步消息的系统编码
    修改xml节点的值    啊:1    /Msg/Body/CheckMonth
    检查消息同步结果    001003
